import{ref as e,getCurrentInstance as r,onMounted as t,onBeforeUnmount as o,reactive as a,openBlock as n,createElementBlock as i,unref as l,createElementVNode as x,renderSlot as d}from"vue";function s(e,r){for(var t in r)e[t]&&"object"==typeof e[t]?s(e[t],r[t]):"object"!=typeof r[t]?e[t]=r[t]:e[t]=u(r[t],!0);return e}function u(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;var t=JSON.parse,o=JSON.stringify;if(!r)return t(o(e));var a=e instanceof Array?[]:{};if(e&&"object"==typeof e)for(var n in e)Object.getOwnPropertyDescriptor(e,n)&&(e[n]&&"object"==typeof e[n]?a[n]=u(e[n],!0):a[n]=e[n]);return a}function f(a,n){const i=e(0),l=e(0),x=r(),d=()=>{const e=x.refs[a];i.value=e?e.clientWidth:0,l.value=e?e.clientHeight:0,e?i.value&&l.value||console.warn("cool-data: Component width or height is 0px, rendering abnormality may occur!"):console.warn("cool-data: Failed to get dom node, component rendering may be abnormal!"),n&&n(i.value,l.value)},s=function(e,r){let t;return function(){clearTimeout(t);const[o,a]=[this,arguments];t=setTimeout((()=>{r&&r.apply(o,a)}),e)}}(100,d);return t((()=>{d(),window.addEventListener("resize",s)})),o((()=>{window.removeEventListener("resize",s)})),{width:i,height:l}}const c=["width","height"],p=["id","d"],h=["id"],m=[x("stop",{offset:"0%","stop-color":"#fff","stop-opacity":"1"},null,-1),x("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"},null,-1)],v=["id"],g=["fill"],b=["dur","path"],y=["fill","points"],$=["stroke","xlink:href"],k=["stroke","xlink:href","mask"],w=["from","to","dur"],C={class:"border-box-content"};var L={props:{color:{type:Array,default:()=>[]},dur:{type:Number,default:3},backgroundColor:{type:String,default:"transparent"},reverse:{type:Boolean,default:!1}},setup(r){const o=r,L=(j?"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx":"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx").replace(/[xy]/g,(function(e){const r=16*Math.random()|0;return("x"==e?r:3&r|8).toString(16)}));var j;const B=a({ref:"border-box-8",path:`border-box-8-path-${L}`,gradient:`border-box-8-gradient-${L}`,mask:`border-box-8-mask-${L}`,defaultColor:["#235fa7","#4fd2dd"],mergedColor:[]}),M=e(),N=e(),{width:O,height:S}=f(B.ref,((e,r)=>{o.reverse?M.value=`M 2.5, 2.5 L 2.5, ${r-2.5} L ${e-2.5}, ${r-2.5} L ${e-2.5}, 2.5 L 2.5, 2.5`:M.value=`M2.5, 2.5 L${e-2.5}, 2.5 L${e-2.5}, ${r-2.5} L2.5, ${r-2.5} L2.5, 2.5`,N.value=2*(e+r-5)})),z=()=>{B.mergedColor=s(u(B.defaultColor,!0),o.color||[])};return t((()=>{z()})),(e,t)=>(n(),i("div",{class:"border-box-8",ref:l(B).ref},[(n(),i("svg",{class:"border-svg-container",width:l(O),height:l(S)},[x("defs",null,[x("path",{id:l(B).path,d:M.value,fill:"transparent"},null,8,p),x("radialGradient",{id:l(B).gradient,cx:"50%",cy:"50%",r:"50%"},m,8,h),x("mask",{id:l(B).mask},[x("circle",{cx:"0",cy:"0",r:"150",fill:`url(#${l(B).gradient})`},[x("animateMotion",{dur:`${r.dur}s`,path:M.value,rotate:"auto",repeatCount:"indefinite"},null,8,b)],8,g)],8,v)]),x("polygon",{fill:o.backgroundColor,points:`5, 5 ${l(O)-5}, 5 ${l(O)-5} ${l(S)-5} 5, ${l(S)-5}`},null,8,y),x("use",{stroke:l(B).mergedColor[0],"stroke-width":"1","xlink:href":`#${l(B).path}`},null,8,$),x("use",{stroke:l(B).mergedColor[1],"stroke-width":"3","xlink:href":`#${l(B).path}`,mask:`url(#${l(B).mask})`},[x("animate",{attributeName:"stroke-dasharray",from:`0, ${N.value}`,to:`${N.value}, 0`,dur:`${o.dur}s`,repeatCount:"indefinite"},null,8,w)],8,k)],8,c)),x("div",C,[d(e.$slots,"default")])],512))},__file:"packages/borderBox/borderBox8/index.vue",name:"BorderBox8",install:e=>{e.component(L.name,L)}};export{L as default};
